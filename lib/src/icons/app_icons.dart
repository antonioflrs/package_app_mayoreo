import 'package:flutter/material.dart';

/// Biblioteca principal de iconos SVG de la aplicación
/// 
/// Esta clase organiza todos los iconos SVG personalizados de la aplicación
/// agrupándolos por categorías y funcionalidad.
class SvgIcons {
  SvgIcons._();

  // ============================================================================
  // ICONOS DE NAVEGACIÓN
  // ============================================================================
  
  /// Icono de menú hamburguesa
  static const String burgerMenu = 'assets/icons/stroke/burguer_icon.svg';
  
  /// Icono de flecha izquierda
  static const String arrowLeft = 'assets/icons/stroke/arrow_left.svg';
  
  /// Icono de flecha abajo
  static const String arrowDown = 'assets/icons/stroke/arrow_down.svg';
  
  /// Icono de cerrar
  static const String close = 'assets/icons/stroke/close.svg';
  
  /// Icono de verificar
  static const String check = 'assets/icons/stroke/check.svg';
  
  /// Icono de más
  static const String plus = 'assets/icons/stroke/plus_icon.svg';
  
  /// Icono de restaurar
  static const String reset = 'assets/icons/stroke/rest.svg';

  // ============================================================================
  // ICONOS DE USUARIO
  // ============================================================================
  
  /// Icono de usuario activo
  static const String userActive = 'assets/icons/filled/user_activo.svg';
  
  /// Icono de usuario inactivo
  static const String userInactive = 'assets/icons/stroke/user_inactivo.svg';
  
  /// Icono de perfil
  static const String profile = 'assets/icons/filled/user_activo.svg';

  // ============================================================================
  // ICONOS DE PEDIDOS Y CARRITO
  // ============================================================================
  
  /// Icono de pedidos activo
  static const String ordersActive = 'assets/icons/filled/pedidos_active.svg';
  
  /// Icono de pedidos inactivo
  static const String ordersInactive = 'assets/icons/filled/pedidos_inactive.svg';
  
  /// Icono de órdenes activo
  static const String ordersActivo = 'assets/icons/filled/orders_activo.svg';
  
  /// Icono de órdenes inactivo
  static const String ordersInactivo = 'assets/icons/stroke/ordes_inactivo.svg';
  
  /// Icono de carrito activo
  static const String cartActive = 'assets/icons/filled/cart_activo.svg';
  
  /// Icono de carrito inactivo
  static const String cartInactive = 'assets/icons/stroke/cart_inactivo.svg';

  // ============================================================================
  // ICONOS DE CATEGORÍAS Y LISTAS
  // ============================================================================
  
  /// Icono de categorías activo
  static const String categoriesActive = 'assets/icons/filled/categories_activo.svg';
  
  /// Icono de categorías inactivo
  static const String categoriesInactive = 'assets/icons/stroke/categories_inactive.svg';
  
  /// Icono de lista activa
  static const String listActive = 'assets/icons/filled/list_active.svg';
  
  /// Icono de lista inactiva
  static const String listInactive = 'assets/icons/filled/list_inactive.svg';
  
  /// Icono de agregar nota
  static const String noteAdd = 'assets/icons/filled/note_add_list.svg';
  
  /// Icono de agregar nota (stroke)
  static const String noteAddStroke = 'assets/icons/stroke/hugeicons_note-add.svg';

  // ============================================================================
  // ICONOS DE FAVORITOS
  // ============================================================================
  
  /// Icono de favoritos activo
  static const String favoritesActive = 'assets/icons/filled/favorites_activo.svg';
  
  /// Icono de favoritos inactivo
  static const String favoritesInactive = 'assets/icons/stroke/favorites_inactivo.svg';
  
  /// Icono de favorito activo
  static const String favActive = 'assets/icons/filled/fav_active.svg';
  
  /// Icono de favorito inactivo
  static const String favInactive = 'assets/icons/filled/fav_inactive.svg';

  // ============================================================================
  // ICONOS DE DOCUMENTOS
  // ============================================================================
  
  /// Icono de documento activo
  static const String documentActive = 'assets/icons/filled/document_active.svg';
  
  /// Icono de documento inactivo
  static const String documentInactive = 'assets/icons/filled/document_inactive.svg';

  // ============================================================================
  // ICONOS DE TARJETAS Y PAGOS
  // ============================================================================
  
  /// Icono de tarjeta activa
  static const String cardActive = 'assets/icons/filled/card_active.svg';
  
  /// Icono de tarjeta inactiva
  static const String cardInactive = 'assets/icons/filled/card_inactive.svg';

  // ============================================================================
  // ICONOS DE AYUDA
  // ============================================================================
  
  /// Icono de ayuda activo
  static const String helpActive = 'assets/icons/filled/help_active.svg';
  
  /// Icono de ayuda inactivo
  static const String helpInactive = 'assets/icons/filled/help_inactive.svg';

  // ============================================================================
  // ICONOS DE UBICACIÓN
  // ============================================================================
  
  /// Icono de ubicación activa
  static const String locationActive = 'assets/icons/filled/ubication_active.svg';
  
  /// Icono de ubicación inactiva
  static const String locationInactive = 'assets/icons/filled/ubication_inactive.svg';

  // ============================================================================
  // ICONOS DE COMUNICACIÓN
  // ============================================================================
  
  /// Icono de correo
  static const String mail = 'assets/icons/filled/mail_icon.svg';
  
  /// Icono de compartir
  static const String share = 'assets/icons/stroke/share_icon.svg';

  // ============================================================================
  // ICONOS DE ACCIONES
  // ============================================================================
  
  /// Icono de eliminar
  static const String delete = 'assets/icons/stroke/delete.svg';
  
  /// Icono de alerta
  static const String alert = 'assets/icons/stroke/alert_icon.svg';

  // ============================================================================
  // ICONOS DE SISTEMA DE DISEÑO
  // ============================================================================
  
  /// Icono de colores
  static const String colors = 'assets/icons/stroke/colors.svg';
  
  /// Icono de tipografía
  static const String typography = 'assets/icons/stroke/tipography.svg';
  
  /// Icono de sombras
  static const String shadows = 'assets/icons/stroke/shadow.svg';
  
  /// Icono de espaciados
  static const String spacing = 'assets/icons/stroke/espaciados.svg';
  
  /// Icono de breakpoints
  static const String breakpoints = 'assets/icons/stroke/breakpoints.svg';
  
  /// Icono de z-index
  static const String zIndex = 'assets/icons/stroke/z_index.svg';

  // ============================================================================
  // ICONOS DE MARCA
  // ============================================================================
  
  /// Logo de B Life Mayoreo
  static const String logoMayoreo = 'assets/icons/blife/logo_mayoreo.svg';
  
  /// Logo activo
  static const String logoActive = 'assets/icons/blife/logo_activo.svg';
  
  /// Logo inactivo
  static const String logoInactive = 'assets/icons/blife/logo_inactivo.svg';
  
  /// B Toolkit
  static const String bToolkit = 'assets/icons/blife/b_toolkit.svg';
  
  /// Logo de Apple
  static const String appleLogo = 'assets/icons/filled/apple_logo.svg';

  // ============================================================================
  // ICONOS DE REDES SOCIALES
  // ============================================================================
  
  /// Logo de WhatsApp
  static const String whatsapp = 'assets/icons/social_media/whatsapp_logo.svg';

  // ============================================================================
  // MAPEO A MATERIAL ICONS
  // ============================================================================
  
  /// Mapeo de iconos SVG a Material Icons equivalentes
  static const Map<String, IconData> _svgToMaterialIcons = {
    burgerMenu: Icons.menu,
    arrowLeft: Icons.arrow_back,
    arrowDown: Icons.keyboard_arrow_down,
    close: Icons.close,
    check: Icons.check,
    plus: Icons.add,
    reset: Icons.refresh,
    userActive: Icons.person,
    userInactive: Icons.person_outline,
    ordersActive: Icons.shopping_bag,
    ordersInactive: Icons.shopping_bag_outlined,
    cartActive: Icons.shopping_cart,
    cartInactive: Icons.shopping_cart_outlined,
    categoriesActive: Icons.category,
    categoriesInactive: Icons.category_outlined,
    listActive: Icons.list,
    listInactive: Icons.list_outlined,
    noteAdd: Icons.note_add,
    favoritesActive: Icons.favorite,
    favoritesInactive: Icons.favorite_border,
    documentActive: Icons.description,
    documentInactive: Icons.description_outlined,
    cardActive: Icons.credit_card,
    cardInactive: Icons.credit_card_outlined,
    helpActive: Icons.help,
    helpInactive: Icons.help_outline,
    locationActive: Icons.location_on,
    locationInactive: Icons.location_off,
    mail: Icons.mail,
    share: Icons.share,
    delete: Icons.delete,
    alert: Icons.warning,
    colors: Icons.palette,
    typography: Icons.text_fields,
    shadows: Icons.layers,
    spacing: Icons.space_bar,
    breakpoints: Icons.view_week,
    zIndex: Icons.layers_outlined,
    bToolkit: Icons.widgets,
  };

  // ============================================================================
  // MÉTODOS DE UTILIDAD
  // ============================================================================
  
  /// Obtiene el Material Icon equivalente para un icono SVG
  static IconData? getMaterialIcon(String svgPath) {
    // Buscar por el nombre del archivo sin extensión
    final fileName = svgPath.split('/').last.replaceAll('.svg', '');
    
    // Buscar coincidencias en el mapeo
    for (final entry in _svgToMaterialIcons.entries) {
      final svgFileName = entry.key.split('/').last.replaceAll('.svg', '');
      if (svgFileName == fileName) {
        return entry.value;
      }
    }
    
    // Si no se encuentra, buscar por el path completo
    return _svgToMaterialIcons[svgPath];
  }
  
  /// Obtiene todos los iconos organizados por categoría
  static Map<String, List<String>> getAllIconsByCategory() {
    return {
      'Navegación': [burgerMenu, arrowLeft, arrowDown, close, check, plus, reset],
      'Usuario': [userActive, userInactive, profile],
      'Pedidos y Carrito': [ordersActive, ordersInactive, ordersActivo, ordersInactivo, cartActive, cartInactive],
      'Categorías y Listas': [categoriesActive, categoriesInactive, listActive, listInactive, noteAdd, noteAddStroke],
      'Favoritos': [favoritesActive, favoritesInactive, favActive, favInactive],
      'Documentos': [documentActive, documentInactive],
      'Tarjetas y Pagos': [cardActive, cardInactive],
      'Ayuda': [helpActive, helpInactive],
      'Ubicación': [locationActive, locationInactive],
      'Comunicación': [mail, share],
      'Acciones': [delete, alert],
      'Sistema de Diseño': [colors, typography, shadows, spacing, breakpoints, zIndex],
      'Marca': [logoMayoreo, logoActive, logoInactive, bToolkit, appleLogo],
      'Redes Sociales': [whatsapp],
    };
  }
  
  /// Obtiene todos los iconos en una lista plana
  static List<String> getAllIcons() {
    return getAllIconsByCategory().values.expand((icons) => icons).toList();
  }
  
  /// Busca iconos por nombre
  static List<String> searchIcons(String query) {
    if (query.isEmpty) return getAllIcons();
    
    final lowercaseQuery = query.toLowerCase();
    final allIcons = getAllIconsByCategory();
    final results = <String>[];
    
    for (final entry in allIcons.entries) {
      if (entry.key.toLowerCase().contains(lowercaseQuery)) {
        results.addAll(entry.value);
      }
    }
    
    return results;
  }
  
  /// Obtiene iconos por tipo (filled, stroke, etc.)
  static List<String> getIconsByType(String type) {
    final allIcons = getAllIcons();
    return allIcons.where((icon) => icon.contains('/$type/')).toList();
  }
  
  /// Obtiene todos los Material Icons equivalentes organizados por categoría
  static Map<String, List<IconData>> getMaterialIconsByCategory() {
    final categories = getAllIconsByCategory();
    final materialCategories = <String, List<IconData>>{};
    
    for (final entry in categories.entries) {
      final materialIcons = <IconData>[];
      for (final svgPath in entry.value) {
        final materialIcon = getMaterialIcon(svgPath);
        if (materialIcon != null) {
          materialIcons.add(materialIcon);
        }
      }
      if (materialIcons.isNotEmpty) {
        materialCategories[entry.key] = materialIcons;
      }
    }
    
    return materialCategories;
  }
} 